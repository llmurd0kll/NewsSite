@model NewsSite.Domain.Entities.News
@using Microsoft.Extensions.Localization
@using NewsSite.Web
@inject IStringLocalizer<SharedResource> Localizer
@using System.Globalization
@using Microsoft.AspNetCore.Mvc.Localization
@{
    var culture = CultureInfo.CurrentUICulture.TwoLetterISOLanguageName;
    string title = culture == "ru" ? Model.TitleRu : Model.TitleEn;
    string subtitle = culture == "ru" ? Model.SubtitleRu : Model.SubtitleEn;
    string text = culture == "ru" ? Model.TextRu : Model.TextEn;
    ViewData["Title"] = title;
    }

<article class="news-details">
    <header>
        <h1>@title</h1>
        @if (!string.IsNullOrEmpty(subtitle))
            {
            <h2>@subtitle</h2>
            }
        <p class="published-date">
            @Model.PublishedAt.ToLocalTime().ToString("dd MMMM yyyy", CultureInfo.CurrentUICulture)
        </p>
    </header>

    @if (!string.IsNullOrEmpty(Model.ImagePath))
        {
        <figure>
            <img src="@Model.ImagePath" alt="@title" class="news-image" />
        </figure>
        }

    <section class="news-text">
        @Html.Raw(text)
    </section>

    <footer class="mt-3">
        <a asp-controller="News" asp-action="Index" class="btn btn-secondary">
            @Localizer["News_All"]
        </a>
    </footer>
</article>
